<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
		  rel="stylesheet">
<!--	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
		  integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="sidebar.css">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Title</title>
</head>
<body>
<div class="wrapper">
	<nav class="sidebar" id="sidebar">
		<div class="icons hide">
			<div class="header">
				<a class="link" href="/">
					<img class="nav-icon logo" src="icon.svg">
				</a>
			</div>
			<ul class="links-list">
				<li class="row">
					<a class="link" id="link-trips" href="/trips">
						<i class="nav-icon fa-solid fa-magnifying-glass"></i>
					</a>
					<div class="tooltip" id="tooltip-trips"><span class="text">Поиск билетов</span></div>
				</li>
				<li class="row">
					<a class="link" href="/admin">
						<i class="nav-icon fa-solid fa-wrench"></i>
					</a>
					<div class="tooltip" id="tooltip-admin"><span class="text">Администрирование</span></div>
				</li>
				<li class="row">
					<a class="link" href="/orders">
						<i class="nav-icon fa-solid fa-ticket"></i>
					</a>
					<div class="tooltip" id="tooltip-orders"><span class="text">Заказы</span></div>
				</li>
			</ul>
			<div class="account">
				<a class="link" href="">
					<i class="nav-icon fa-solid fa-user"></i>
				</a>
				<div class="tooltip" id="tooltip-account"><span class="text">$username</span></div>
			</div>
		</div>
		<div class="content">
			<div class="header">
				<a class="link" href="/">
					<img class="nav-icon logo" src="icon.svg">
					<span class="text">BusTicket</span>
				</a>
				<a class="sidebar-toggle" id="sidebar-toggle"><i class="fa-solid fa-arrow-left"></i></a>
			</div>
			<ul class="links-list">
				<li class="row">
					<a class="link" href="/trips">
						<i class="nav-icon fa-solid fa-magnifying-glass"></i>
						<span class="text">Поиск билетов</span>
					</a>
				</li>
				<li class="row with-submenu">
					<input class="submenu-toggle" id="admin-submenu-toggle" type="checkbox" checked>
					<label class="link" for="admin-submenu-toggle">
						<i class="nav-icon fa-solid fa-wrench"></i>
						<span class="text">Администрирование</span>
						<i class="switch fa-solid fa-chevron-right"></i>
					</label>
					<ul class="submenu">
						<li class="row"><a class="link" href=""><span class="text">Станции</span></a></li>
						<li class="row"><a class="link" href=""><span class="text">Маршруты</span></a></li>
						<li class="row"><a class="link" href=""><span class="text">Модели автобусов</span></a></li>
						<li class="row"><a class="link" href=""><span class="text">Автобусы</span></a></li>
					</ul>
				</li>
				<li class="row">
					<a class="link" href="/orders">
						<i class="nav-icon fa-solid fa-ticket"></i>
						<span class="text">Заказы</span>
					</a>
				</li>
			</ul>
			<div class="account">
				<a class="link" href="">
					<i class="nav-icon fa-solid fa-user"></i>
					<span class="text">$username</span>
					<a class="logout form-button"><i class="fa-solid fa-arrow-right-from-bracket"></i></a>
				</a>
			</div>
			<div class="gradient-line"></div>
		</div>
	</nav>
	<div class="main">

	</div>
</div>
<script>
	document.getElementById('sidebar-toggle').addEventListener('click', async () => {
		let sidebar = document.getElementById('sidebar');
		let icons = sidebar.children[0];
		if (!sidebar.classList.contains('closed')) {
			let isAnySubmenuOpened = false;
			document.querySelectorAll('.submenu-toggle').forEach(e => {
				if (!e.checked) {
					isAnySubmenuOpened = true;
				}
				e.checked = true;
			});
			if (isAnySubmenuOpened) {
				// wait for submenus closing
				await new Promise(r => setTimeout(r, 400));
			}
			sidebar.querySelector('.content .links-list').scrollTop = 0;
			icons.classList.remove('hide');
		} else {
			setTimeout(() => {
				icons.classList.add('hide');
			}, 500);
		}
		sidebar.classList.toggle('closed');
	});
</script>
</body>
</html>